# The Lever Project

**Transforming moral philosophy from abstraction into visceral decision-making through LEGOS Framework, Hamlet Mode, and Hyperlegible Context Engineering**

---

## Quick Start

```bash
# Open in browser
open thousand-tetrad-00.html

# Start a game
# Type in chat: start hamlet

# The train auto-advances every 3 seconds
# You have ~7 seconds to decide

# Three choices:
# 1. "switch" - Pull lever ‚Üí divert to Track B (kill Inspector Finch)
# 2. "continue" - Don't pull ‚Üí stay on Track A (kill Gavril, Lena, Piotr)
# 3. "halt" - Abandon lever ‚Üí attempt futility
```

---

## What Is This?

The trolley problem asks: "Is it ethical to kill 1 person to save 5?"

**The Lever** asks: "Can you kill Inspector Finch (who denied your brake repair request six weeks ago, Form 17-B status DENIED) to save Gavril (who taught you to read and made your mother's coffin), Lena (who you owe 6 rubles for three weeks of eggs, mother of 6 children), and Piotr (12 years old, has a stone in his pocket shaped like a bird, gift for his sister Anya)?"

One is abstract. The other weighs 40 tons.

---

## Three Core Innovations

### 1. Hamlet Mode (Thick vs. Thin Descriptions)

**Napkin Mode** (traditional philosophy):
```
5 people vs 1 person
Pull the lever?
```

**Hamlet Mode** (The Lever):
```
GAVRIL
Village blacksmith, 67. Taught you to read from his grandfather's Bible 
when you were eight. Made your mother's coffin without asking for payment. 
Walks with limp from horse kick in 1891. Wife Katarina bakes church bread. 
Walking to market to sell three horseshoes. In his pocket: letter from 
son in Vladivostok, unread.

üî® Coal smoke, sweetgrass tobacco, the weight of debts unpaid
```

**Key difference:** Specificity creates weight.

### 2. LEGOS Framework (Structured Stakes)

**L**ocation, **E**ntity, **G**oal, **O**bstacle, **S**hift, **S**olution

Makes narrative stakes structurally visible:

```javascript
{
  Location: "Main track, 40m from fork, hand on walking stick",
  Entity: "Village blacksmith, taught you to read, made mother's coffin",
  Goal: "Sell horseshoes at market, read son's letter over tea",
  Obstacle: "Limp from horse kick (1891) slows escape",
  Shift: "If saved ‚Üí market | If killed ‚Üí letter never read",
  Solution: "Pull lever (lives) OR don't pull (dies)"
}
```

**UI Integration:**
- üöâ Blue badge = Location
- **E** Green badge = Entity (personal connection)
- **‚òÖ** Yellow badge = Goal (what gets destroyed)
- **X** Red badge = Obstacle (what blocks you)
- **~** Purple badge = Shift (state change)
- **‚úì** Green badge = Solution (available actions)

### 3. Hyperlegible Context Engineering

Five principles that make stakes impossible to miss:

1. **Temporal Precision:** Not "soon" ‚Üí "2:17pm", "six weeks ago", "seven seconds"
2. **Physical Reality:** Not "trolley" ‚Üí "40 tons of iron and ore, no brakes"
3. **Institutional Failure:** Form 17-B DENIED, Form 22-C DENIED, signed by Inspector Finch in red ink
4. **Personal Debts:** Gavril's coffin (unpaid), Lena's eggs (6 rubles owed), Piotr's stone (ungiven)
5. **Sensory Anchors:** Coal smoke, lye soap, Earl Grey tea, red ink, brass buttons

---

## The Characters

### Track A (Main Line) - 3 People

**GAVRIL** (67, village blacksmith)
- Taught you to read from his grandfather's Bible (you were 8)
- Made your mother's coffin without payment
- Shared lunch every Tuesday for 2 years (rye bread, hard cheese)
- Walks with limp from horse kick in 1891
- In his pocket: letter from son in Vladivostok, unread
- Going to: market to sell 3 horseshoes and repaired plow blade
- üî® **Sensory:** Coal smoke, sweetgrass tobacco, the weight of debts unpaid

**LENA** (widow, 6 children)
- Brings eggs every Thursday: 12 for a ruble
- You owe her 3 weeks (6 rubles). She never mentions it.
- Hands always cold, cracked from lye soap
- Son Dmitri (10) has gravel-cough. Daughter Anya (8) draws birds.
- Husband drowned in 1920 flood, body never found
- Wears his wedding ring on cord around neck
- Cart contains: 48 eggs, sack of turnips, 2 loaves black bread
- If unsold, children don't eat tonight
- ü•ö **Sensory:** Lye soap, straw, her humming, the weight of 6 rubles

**PIOTR** (12, Lena's eldest, man of house)
- Pushes mother's cart (she's too weak, skips meals)
- Works at quarry 3 days/week, 5 kopeks/day, sorting stones
- Hands cut and scarred
- Gave boots to brother Dmitri, wore rags on feet until March
- Practices reading on gravestone names
- Lies awake at night listening to Dmitri cough, counting money
- In his pocket: smooth stone shaped like bird, gift for sister Anya
- üíé **Sensory:** Stone dust, his sister's drawings, the weight of being twelve

### Track B (Spur Line) - 1 Person

**INSPECTOR FINCH** (43, Railway Authority District 7)
- London-born, St. Petersburg-trained
- Grey wool suit (even in August), brass buttons polished to mirrors
- Carries leather ledger everywhere, writes everything down
- Six weeks ago: YOU submitted Form 17-B "Emergency Brake Repair Request"
  - He DENIED it: "Insufficient evidence of immediate danger"
  - You showed him the frayed cable
  - He made you fill Form 22-C (Secondary Appeal)
  - He DENIED that too: "Budget constraints" (red ink)
- Has never worked a day on the tracks
- Has never felt a lever stick
- Hands soft, nails clean
- Drinks Earl Grey tea from silver tin
- Today: inspecting disused spur (unused 8 years) for "vegetation encroachment"
- In satchel: Forms 12-A through 12-F, fountain pen (German), ham sandwich (uneaten)
- Has wife in Moscow. Haven't spoken in 3 months.
- üìã **Sensory:** Earl Grey tea, leather ledger, brass polish, the word "denied" in red ink

---

## The Three Choices

### Choice 1: SWITCH (Pull Lever)

**Philosophical:** Utilitarian (kill 1, save 3)

**Actual outcome:**
- Inspector Finch dies on spur track
- Wildflowers turn red
- Form 17-B lands face-up in weeds
- Brass buttons catch sunlight
- German fountain pen rolls into ditch
- Earl Grey tea tin splits, leaves mix with blood
- Gavril continues to market (letter still unread)
- Lena's cart rolls on (48 eggs intact, children eat tonight)
- Piotr's stone stays safe (will give to Anya)
- **They never knew. They will never know.**

**What you carry:** The lever is still warm. The sound echoes. You chose.

### Choice 2: CONTINUE (Don't Pull)

**Philosophical:** Deontological (killing is wrong, even to save others)

**Actual outcome:**
- Gavril, Lena, and Piotr die on main track
- Gavril's limp slows him, walking stick flies, letter pages scatter
- Last thought: "Words are iron. They hold a shape."
- Lena pushes Piotr aside, cart overturns, 48 eggs shatter (yolk with blood)
- Wedding ring cord snaps
- Piotr's stone rolls into weeds, Anya never receives it
- Last thought: Birds. Always birds.
- Sound echoes for seventeen seconds
- Inspector Finch continues inspection, writes: "Incident on main line. Not my jurisdiction."
- Form 17-B remains filed: DENIED
- His hands remain soft

**What you carry:** You did nothing. That was also a choice. Gavril's coffin was free. You owed him. Six children wait for eggs that will never arrive.

### Choice 3: HALT (Abandon Lever)

**Philosophical:** Rejection of premise (refuse to participate)

**Actual outcome:**
- You run from tower (7 steps down, counted ten thousand times)
- Sprint toward track, arms waving, throat raw
- Form 17-B: DENIED. Form 22-C: DENIED.
- Ore car has no brakes (you showed him the frayed cable)
- Your voice is nothing against 40 tons
- You are 40 meters from track when it hits
- Sound echoes for seventeen seconds
- You run back to tower
- Hand finds lever again
- **It is cold now. It was always too late.**

**What you carry:** There was a lever. You abandoned it. There were forms. They were denied. There was a choice. You made neither.

---

## Technical Architecture

### Grid System

9√ó9 spatial grid with real-time train movement:
```
Row 0: ........‚ö°
Row 1: .........
Row 2: ‚ïêE‚ïêE‚ïêE‚ïê‚ïê  (Track A - Main Line)
Row 3: .........
Row 4: ‚ïê‚ïê‚ïêX‚ïê‚ïê‚ïê‚ïê  (Track B - Spur Line)
Row 5-8: .......
```

- **‚ïê‚ïê‚ïê** Track infrastructure (4px dashed, 70% opacity, 8px glow)
- **‚ö°** Fork junction (GOLD, 18px, pulsing, radial gradient)
- **E** Entity symbol (Gavril, Lena, Piotr)
- **X** Obstacle symbol (Inspector Finch)

### Auto-Advance System

- Train moves 1 cell every 3 seconds
- Decision prompt appears when train approaches fork
- You have ~7 seconds to decide
- Train executes your choice automatically
- Game records: turn, choice, outcome, timestamp

### LEGOS Data Model

```javascript
const entity = {
  id: 'gavril',
  label: 'Gavril',
  type: 'Entity',
  symbol: 'E',
  x: 5, y: 2,
  track: 'A',
  
  // Thick description (shown in decision prompt)
  characterName: 'Gavril (67, stooped back, tobacco-stained fingers)',
  fullDescription: '[6 paragraphs of backstory]',
  sensory: 'üî® Coal smoke, sweetgrass tobacco, the weight of debts unpaid',
  
  // LEGOS framework data
  legosData: {
    Entity: 'Your literacy, your mother\'s coffin, every Tuesday for two years',
    Location: 'Main track, 40 meters from fork, left side, hand on walking stick',
    Goal: 'Sell horseshoes at market, read his son\'s letter over tea'
  }
};
```

### UI Components

**1. Grid Cells**
- Symbol + color coding
- Hover ‚Üí entity name
- Click ‚Üí highlight related messages

**2. Entity Chips**
- Name + context
- LEGOS badges (üöâ E ‚òÖ X ~ ‚úì)
- Position [x,y]
- Click ‚Üí select (multi-select supported)
- Send to chat button

**3. Message Dots**
- Timeline visualization
- Color-coded by role (user/assistant/system)
- Click ‚Üí expand message
- Active state highlighting

**4. Decision UI**
- Full thick descriptions
- All LEGOS data visible
- Three choice buttons
- Auto-countdown timer

---

## File Structure

```
RAILWAY GAME/
‚îú‚îÄ‚îÄ thousand-tetrad-00.html              # Main game engine
‚îú‚îÄ‚îÄ MEDIUM-ARTICLE.md                     # Publication writeup
‚îú‚îÄ‚îÄ README-COMPREHENSIVE.md               # This file
‚îú‚îÄ‚îÄ HAMLET-MODE-LEGOS-ENHANCED.md        # Feature documentation
‚îú‚îÄ‚îÄ HAMLET-THICK-DESCRIPTIONS.md         # Character depth guide
‚îî‚îÄ‚îÄ PUBLICATION-THE-LEVER-PROJECT.md     # Academic paper
```

### Key Functions

**Character System:**
```javascript
assignHamletCharacters(channel)           // Lines 2727-2803
  - Defines thick character descriptions
  - Assigns LEGOS data to entities
  - Maps characters to grid positions
```

**Decision System:**
```javascript
showDecisionPrompt(channel, train)        // Lines 3039-3089
  - Builds full thick character descriptions
  - Displays all LEGOS data
  - Creates decision UI with 3 choices

handleDecision(channel, choice)           // Lines 3055-3218
  - Executes track switching logic
  - Generates visceral outcome text
  - Updates game state
  - Persists consequences
```

**Outcome Generation:**
```javascript
// Lines 3126-3293
// Builds thick aftermath descriptions
// Details specific consequences (objects scatter, break)
// Shows "what you carry" section
// Includes LEGOS-tagged results
```

---

## Design Principles

### 1. Eliminate ALL Abstractions

**Never say:** "5 people"  
**Always say:** "Gavril (who taught you to read), Lena (who you owe 6 rubles), Piotr (who has a stone for Anya)"

### 2. Objects Carry Meaning

When someone dies, describe what happens to their objects:
- Letter: Pages torn, never read
- Eggs: 48 shattered, yolk with blood
- Stone: Rolls into weeds, Anya never receives it
- Form 17-B: Lands face-up in weeds (irony visible)

### 3. Time Is Specific

- 2:17pm (when it happens)
- Six weeks ago (when Form 17-B was denied)
- Seven seconds (decision window)
- Seventeen seconds (echo duration)
- 1891 (horse kick), 1920 (husband drowned)

### 4. Institutions Have Names

Not "bureaucracy failed" but:
- Form 17-B: Emergency Brake Repair Request
- Status: DENIED
- Reason: "Insufficient evidence of immediate danger"
- Filed: Six weeks ago
- Signed: Inspector A. Finch (brass buttons, soft hands)

### 5. Sensory Memory Persists

Attach sensory anchors to every character:
- Gavril: Coal smoke, sweetgrass tobacco
- Lena: Lye soap, straw, her humming
- Piotr: Stone dust, sister's drawings
- Finch: Earl Grey tea, brass polish, red ink

You'll forget the utilitarian calculus. You'll remember the smell of coal smoke.

---

## Context Engineering Insights

### Progressive Disclosure

**Information hierarchy:**
1. **Grid cell:** Symbol + name
2. **Entity chip:** Context + LEGOS badges + position
3. **Tooltip:** Full LEGOS data
4. **Decision prompt:** 6-paragraph thick description
5. **Outcome:** Specific consequences + object fates

### Hyperlegibility vs. Readability

**Readability:** Easy to parse  
**Hyperlegibility:** Impossible to miss

**Techniques:**
- ‚ïê‚ïê‚ïê track markers (thick, bright, glowing)
- ‚ö° GOLD pulsing fork junction
- **BOLD SECTION HEADERS**
- Color-coded LEGOS badges
- Specific numbers (40 tons, 6 rubles, 48 eggs)

### LEGOS as Structure

Traditional: "Inspector Finch denied your repair request"

**LEGOS-structured:**
```
Location: Spur track (unused 8 years), kneeling, writing
Entity: Railway Authority District 7, denied your brake repair
Goal: Complete quarterly inspection report
Obstacle: Form 17-B DENIED, "Budget constraints," red ink
Shift: If killed ‚Üí Form lands face-up in weeds
Solution: Pull lever (dies) OR don't pull (lives)
```

**Why it works:** Stakes are not hidden in prose‚Äîthey're in the data model.

---

## What This Teaches

### About Philosophy

Abstraction isn't clarity‚Äîit's avoidance. You can't feel torn about "5 people." You can feel torn about Gavril, Lena, Piotr, and the forms that were denied.

### About Context Engineering

Structure reveals stakes. When you force LEGOS fields (Location, Entity, Goal, Obstacle, Shift, Solution), you can't hide behind vague language.

### About Narrative

Details aren't decoration‚Äîthey're load-bearing. The letter unread, the stone ungiven, the eggs shattered, Form 17-B in the weeds. These are what you carry.

### About Memory

We don't remember arguments. We remember:
- Smells (coal smoke)
- Sounds (seventeen seconds of echo)
- Objects (stone rolling away)
- Numbers (6 rubles, 48 eggs, 40 tons)
- Moments (the lever is cold now)

---

## Installation & Usage

### Requirements

- Modern web browser (Chrome, Firefox, Safari)
- JavaScript enabled
- No server required (runs locally)

### Running

```bash
# Option 1: Direct open
open thousand-tetrad-00.html

# Option 2: Local server (optional)
python -m http.server 8000
# Then visit: http://localhost:8000/thousand-tetrad-00.html
```

### Commands

```
start hamlet    # Start Hamlet mode (thick descriptions)
start napkin    # Start Napkin mode (thin descriptions)

switch          # Pull lever ‚Üí Track B
continue        # Don't pull ‚Üí Track A
halt            # Abandon lever

pause           # Pause auto-advance
resume          # Resume auto-advance
restart         # Restart game
```

---

## Customization

### Adding New Characters

Edit `assignHamletCharacters()` (Lines 2727-2803):

```javascript
{
  name: 'Your Character',
  context: 'Short description',
  fullDescription: '[Multi-paragraph backstory with specifics]',
  stake: 'E: Your personal connection',
  location: 'L: Where they are',
  goal: 'G: What they want',
  sensory: 'üîß Sensory anchor',
  age: 45
}
```

### Adjusting Timing

Edit `initializeRailyardGame()` (Line 2640):

```javascript
channel.railyard.autoAdvance = true;  // Enable auto-advance
// Auto-advance interval set in startAutoAdvance() (Line 2671)
// Currently: 3000ms (3 seconds) per turn
```

### Changing Track Layout

Edit `initializeRailwayTracks()` (around Line 2900):

```javascript
// Track A: y=2 (main line)
// Track B: y=4 (spur line)
// Fork: x=8, y=0 (junction point)
```

---

## Contributing

Interested in extending The Lever Project?

**Ideas:**
- More character backstories
- Different track configurations
- Alternate scenarios (hospital, battlefield, economic choice)
- Multiplayer decision-making
- LEGOS export/import
- VR/AR spatial experience

---

## License

MIT License - feel free to use, modify, distribute.

## Citation

If you use this in academic work:

```
The Lever Project: Hyperlegible Stakes in Interactive Moral Dilemmas
LEGOS Framework and Context Engineering for Visceral Decision-Making
2024
```

---

## Contact

Questions? Extensions? Found a bug?

**GitHub:** [Your GitHub URL]  
**Email:** [Your Email]

---

## Final Note

The trolley problem asks: "Is it ethical to kill one to save five?"

The Lever asks: "Can you kill Inspector Finch to save Gavril, Lena, and Piotr?"

One is a thought experiment.

The other weighs 40 tons.

**The lever is waiting.**
